(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{345:function(t,s,a){t.exports=a.p+"assets/img/page-snapshot-shop.bd7b84a8.png"},346:function(t,s,a){t.exports=a.p+"assets/img/page-snapshot-desc-ab.53c2ab4e.png"},347:function(t,s,a){t.exports=a.p+"assets/img/page-snapshot-to-data.84978e0c.png"},366:function(t,s,a){"use strict";a.r(s);var _=a(44),v=Object(_.a)({},(function(){var t=this,s=t.$createElement,_=t._self._c||s;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"页面快照"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#页面快照"}},[t._v("#")]),t._v(" 页面快照")]),t._v(" "),_("p",[t._v("页面快照是某个时间段内完整的页面状态，包含了多维度信息。")]),t._v(" "),_("h2",{attrs:{id:"_1-页面快照包含什么？"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-页面快照包含什么？"}},[t._v("#")]),t._v(" 1. 页面快照包含什么？")]),t._v(" "),_("p",[t._v("“页面快照”的提出参考了搜索引擎中“网页快照”的概念，但它并不只是一个网页快照，而是某一个时间段内完整的页面状态，而是包含了：")]),t._v(" "),_("ul",[_("li",[t._v("UI 信息及 DOM 变化")]),t._v(" "),_("li",[t._v("网络请求（CGI、数据上报）")]),t._v(" "),_("li",[t._v("资源加载")]),t._v(" "),_("li",[t._v("jsbridge 调用")]),t._v(" "),_("li",[t._v("JS runtime")]),t._v(" "),_("li",[t._v("浏览器其他事件")]),t._v(" "),_("li",[t._v("...")])]),t._v(" "),_("h2",{attrs:{id:"_2-每次的交互行为会产生新的-页面快照"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-每次的交互行为会产生新的-页面快照"}},[t._v("#")]),t._v(' 2. 每次的交互行为会产生新的"页面快照"')]),t._v(" "),_("p",[t._v("一个交互行为必然会产生一定的变化，变化之前和变化之后是两个不同的页面快照。")]),t._v(" "),_("h2",{attrs:{id:"_3-举例说明"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-举例说明"}},[t._v("#")]),t._v(" 3. 举例说明")]),t._v(" "),_("p",[t._v('假如我们有个功能是"红包商城兑换"，支持"兑换礼物"，如下图所示。')]),t._v(" "),_("p",[_("img",{attrs:{src:a(345),alt:""}})]),t._v(" "),_("p",[t._v('用户点击了"兑换"之后，会产生两份页面快照：页面快照 A 和页面快照 B ,')]),t._v(" "),_("p",[_("img",{attrs:{src:a(346),alt:""}})]),t._v(" "),_("p",[t._v("页面快照中最明显的是 UI 信息：每个可兑换的礼物的价格、数量、名字、图片、限时条件等都不一样，而这些都是可以从页面快照中获得的。")]),t._v(" "),_("p",[t._v('那么，为什么会有这些信息呢？是因为我们请求了一次接口请求，根据返回的数据来进行展示，因此页面快照还至少包含了一次"网络请求"。')]),t._v(" "),_("p",[t._v('点击"兑换"按钮之后，显然会调用一次兑换接口，可能还会产生一次数据上报；兑换完成之后，页面UI可能还会发生变化，例如余额变化等。')]),t._v(" "),_("p",[t._v('包括上面列举的，这些所有的状态，构造了"页面快照"的组成。')]),t._v(" "),_("h2",{attrs:{id:"_4-如何测试页面快照"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-如何测试页面快照"}},[t._v("#")]),t._v(" 4. 如何测试页面快照")]),t._v(" "),_("p",[t._v("页面快照对于程序而言是不友好的。比如一个按钮从可点击变为不可点击，我们可以一眼看出来，但程序无法感知。程序适合处理数据，因此我们还需要将其转换为程序可识别的数据，这就是“数据快照”。")]),t._v(" "),_("p",[_("img",{attrs:{src:a(347),alt:""}})]),t._v(" "),_("p",[t._v("更多细节请查看 "),_("RouterLink",{attrs:{to:"/wiki/basic-concepts/data-snapshot.html"}},[t._v("数据快照")]),t._v(" 一章。")],1)])}),[],!1,null,null,null);s.default=v.exports}}]);