{"version":3,"sources":["../../../src/server/router/validate-data.js"],"names":["_","require","validateKey","key","indexOf","msg","join","Error","module","exports","obj","isPlainObject","forEach"],"mappings":";;;;;;;;;;;;AAAA,IAAMA,IAAIC,QAAQ,QAAR,CAAV;;AAEA,SAASC,WAAT,CAAqBC,GAArB,EAA0B;AACxB,MAAIA,IAAIC,OAAJ,CAAY,GAAZ,MAAqB,CAAC,CAA1B,EAA6B;AAC3B,QAAMC,MAAM,qDACuCF,GADvC,UAEV,EAFU,EAGV,+DAHU,EAIV,4DAJU,EAKVG,IALU,CAKL,IALK,CAAZ;AAMA,UAAM,IAAIC,KAAJ,CAAUF,GAAV,CAAN;AACD;AACF;;AAEDG,OAAOC,OAAP,GAAiB,UAACC,GAAD,EAAS;AACxB,MAAIV,EAAEW,aAAF,CAAgBD,GAAhB,CAAJ,EAA0B;AACxB,wBACQA,GADR,EAEGE,OAFH,CAEWV,WAFX;AAGD,GAJD,MAIO;AACL,UAAM,IAAIK,KAAJ,CACJ,2CAAwCG,GAAxC,uDAAwCA,GAAxC,WACA,0DAFI,CAAN;AAID;AACF,CAXD","file":"validate-data.js","sourcesContent":["const _ = require('lodash');\n\nfunction validateKey(key) {\n  if (key.indexOf('/') !== -1) {\n    const msg = [\n      `Oops, found / character in database property '${key}'.`,\n      '',\n      '/ aren\\'t supported, if you want to tweak default routes, see',\n      'https://github.com/typicode/json-server/#add-custom-routes'\n    ].join('\\n');\n    throw new Error(msg);\n  }\n}\n\nmodule.exports = (obj) => {\n  if (_.isPlainObject(obj)) {\n    Object\n      .keys(obj)\n      .forEach(validateKey);\n  } else {\n    throw new Error(\n      `Data must be an object. Found ${typeof obj}.` +\n      'See https://github.com/typicode/json-server for example.'\n    );\n  }\n};\n"]}